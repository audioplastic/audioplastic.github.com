
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>AudioPlastic</title>
  <meta name="author" content="Nick Clark">

  
  <meta name="description" content="This is a brief tutorial showing how to use differential equations to do make predictions about the state of a simple dynamic analogue electronics &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://audioplastic.github.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="AudioPlastic" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37471615-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">AudioPlastic</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:audioplastic.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/07/diff-eqn1/">Basic Differential Equations Tutorial</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-07T10:36:00+01:00" pubdate data-updated="true">Jan 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/07/diff-eqn1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a brief tutorial showing how to use differential equations to do make predictions about the state of a simple dynamic analogue electronics circuit. I have ported this post over from my discontinued Wordpress blog, as some readers may find the information useful. </p>

<p>Put simply, a differential equation is any equation that contains derivatives. A derivative is basically a gradient, and so it is an equation that describes a system containing something that changes. In audio, this will likely be something that changes over time (t), so an example might be</p>

<script type="math/tex; mode=display">  ty\frac{ {d}^{2} y }{dt}+y\frac{dy}{dt}+{e}^{8t}=0  </script>

<p>I looks kinda like a polynomial, but with various order derivatives. We’d call this example a second order differential equation, as the highest order derivative is 2.</p>

<p>I quickly want to move onto a real world example, showing some useful stuff we can do with differential equations. For this, I’m going to use simple electronic components in a circuit and then try and predict the state of the circuit at a given time. I’m going to use basic analogue electronic components for my first real-world example, as digital filter theory is rooted in basic analogue electronics theory.</p>

<p>The complex impedance (<script type="math/tex">Z</script>) of a circuit is made up of real resistive terms (<script type="math/tex">R</script>) and imaginary reactive terms (<script type="math/tex">X</script>) &#8230;</p>

<script type="math/tex; mode=display"> Z=R+jX </script>

<p>The reactance term comes from the combination of inductance and capacitance. Like resistance, capacitance and inductance are inherent properties of electronic components. The capacitative effect comes from built up electric field that resists voltage changes. The inductive effect comes from the build up of magnetic field that resists changes in current. Reactance effects are only exhibited when circuit conditions change. Therefore, we can use differential equations to predict the state of a circuit after a change. For the following example, the change is the circuit being switched on.</p>

<p>Consider a simple circuit containing a prefect voltage source, a resistor and an inductor &#8230; </p>

<p><img src="http://i48.tinypic.com/2hwnea.png" alt="" width="60%" /></p>

<p>When the circuit is switched on, the inductor chokes the initial burst of current, giving rise to a gradual increase in current through the inductor until a maximum value is reached. </p>

<p>One way to visualise the current flow through this circuit is to build it and measure it, but this is a bit of a faff. Another way is to use electronic simulation software. For simple circuits (and even for relatively complex ones too) I am a huge fan of the excellent and free web app, <a href="www.circuitlab.com">CircuitLab</a>. CircuitLab allows the user to just drag and drop various components, set their values, then produce simulation plots like that shown below.</p>

<p><img src="http://i45.tinypic.com/al3hgm.png" alt="" width="100%" /></p>

<p>The plot shows that the rise in current through the inductor is not linear with time. This is because the relationship between the inductance (L), voltage (V), and current (I) is differential - it changes over time &#8230; </p>

<script type="math/tex; mode=display"> V = L\frac{dI}{dt} </script>

<p>We will now see if we can predict the current for any given time analytically using differential equations. We know from Kirchoff’s Voltage Law that the sum total voltage drop across series components (VR and VL) equals the supply voltage (VS) …</p>

<script type="math/tex; mode=display"> V_R + V_L = V_S </script>

<p>We want to predict the current, so using Ohm’s law (V=IR), we can express this in terms of current (I) …</p>

<script type="math/tex; mode=display"> IR + L\frac{dI}{dt} = V_S </script>

<p>The next thing we want to do is get this into a suitable form for integration so we can remove the differential terms (dI and dt) and find a solution. THe first step is to split dI and dt …</p>

<script type="math/tex; mode=display"> LdI = (V_S-IR)dt </script>

<p>… then separate the rest of the variables …</p>

<script type="math/tex; mode=display"> \frac{L}{V_S-IR}dI = dt </script>

<p>This is now in a suitable form for integration. </p>

<script type="math/tex; mode=display"> \int \frac{L}{V_S-IR}dI =\int 1dt </script>

<p>This is a great time to introduce a web app that I find particularly useful, <a href="http://www.wolframalpha.com/">Wolfram Alpha</a>. This tool can be used to perform calculus. It will show the intermediate steps towards a solution, so there is no black-box trickery to get in the way of our understanding. I have posted a screenshot of the output of the web app when asked to integrate the left-hand-side (LHS) of the above equation. It saves all the <script type="math/tex">LaTeX</script> typing anyway!</p>

<p><img src="http://i48.tinypic.com/30tmi2o.png" alt="" width="100%" /></p>

<p>Integration of the right-hand-side (RHS) is trivial, so we end up with the following &#8230; </p>

<script type="math/tex; mode=display"> -\frac{L ln(V_S-IR)}{R}+c_1 = t + c_2 </script>

<p>We are still trying to solve this for current, so the next step is to isolate the logarithmic term so that both sides of the equation can be easily exponentiated …</p>

<script type="math/tex; mode=display"> ln(V_S-IR) = -\frac{R}{L}t -\frac{R}{L}(c_1+c_2) </script>

<p>Now simply exp() both sides …</p>

<script type="math/tex; mode=display"> V_S-IR = {e}^{-\frac{R}{L}t} {e}^{-\frac{R}{L}(c_1+c_2)} </script>

<p>Now save a little writing by using the following alias for K, where K is some constant term …</p>

<script type="math/tex; mode=display"> K = {e}^{-\frac{R}{L}(c_1+c_2)} </script>

<p>… and so …</p>

<script type="math/tex; mode=display"> V_S-IR = K{e}^{-\frac{R}{L}t} </script>

<p>This allows us to finally get the current term by itself …</p>

<script type="math/tex; mode=display"> I = \frac{K}{R} {e}^{-\frac{R}{L}t} - \frac{V_S}{R} </script>

<p>Great! We can almost state the current at a given time after the circuit is switched on, but there are still some pesky unknown constant terms in K that would cause some uncertainty in the result. However, this is not a problem because we know the initial conditions at switch on. At time t=0, the current through the circuit I=0. Substituting this in …</p>

<script type="math/tex; mode=display"> 0 = \frac{K}{R} {e}^{0} - \frac{V_S}{R} </script>

<p>And so it follows …</p>

<script type="math/tex; mode=display"> \frac{K}{R} = \frac{V_S}{R} </script>

<p>so …</p>

<script type="math/tex; mode=display"> K = V_S </script>

<p>Now we can determine the current at any given time after switch on!</p>

<script type="math/tex; mode=display"> I = \frac{V_S}{R} (1-{e}^{-\frac{R}{L}t}) </script>

<p>It is then easy to check if our analytical solution matches our hardware equivalent by making a quick Matlab script &#8230; </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="matlab"><span class="line"><span class="n">tAxis</span> <span class="p">=</span> 0<span class="p">:</span>1<span class="n">e</span><span class="o">-</span>4<span class="p">:</span>5<span class="n">e</span><span class="o">-</span>3<span class="p">;</span> <span class="c">% Time Axis</span>
</span><span class="line">
</span><span class="line"><span class="c">% We can use a Lambda to neatly represent our solution</span>
</span><span class="line"><span class="n">current</span> <span class="p">=</span> <span class="p">@(</span><span class="n">V</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="n">t</span><span class="p">)(</span><span class="n">V</span><span class="o">/</span><span class="n">R</span><span class="p">)</span><span class="o">*</span><span class="p">(</span>1<span class="o">-</span><span class="nb">exp</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="o">*</span><span class="n">R</span><span class="o">/</span><span class="n">L</span><span class="p">));</span>
</span><span class="line"><span class="n">figure</span><span class="p">;</span>
</span><span class="line"><span class="n">plot</span><span class="p">(</span>1000<span class="o">*</span><span class="n">tAxis</span><span class="p">,</span>1000<span class="o">*</span><span class="n">current</span><span class="p">(</span>9<span class="p">,</span>20<span class="p">,</span>10<span class="n">e</span><span class="o">-</span>3<span class="p">,</span><span class="n">tAxis</span><span class="p">),</span><span class="s">&#39;Linewidth&#39;</span><span class="p">,</span>2<span class="p">);</span>
</span><span class="line"><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Time [ms]&#39;</span><span class="p">);</span> <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Current [mA]&#39;</span><span class="p">);</span> <span class="n">ylim</span><span class="p">([</span>0 500<span class="p">])</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><img src="http://i45.tinypic.com/19vvxf.png" /></p>

<p>So there we have it. I differential equation solved that allows us to predict the behaviour of a real physical system.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/31/matlab-like-profiling-in-c-plus-plus-using-raii/">Matlab-like Profiling in C++ Using RAII</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-31T15:59:00+01:00" pubdate data-updated="true">Dec 31<span>st</span>, 2012</time>
        
         | <a href="/blog/2012/12/31/matlab-like-profiling-in-c-plus-plus-using-raii/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve always liked the ability to rapidly profile code snippets in Matlab using the ‘tic’ and ‘toc’ commands. I wanted to develop something equally as simple to use in C++ for rapid tests. It turns out that a particularly elegant way to do this is to use RAII techniques, allowing easy profiling of any commands within a scope. A time marker is made on construction, and another time marker is made on destruction, and then compared to the original time marker.</p>

<p>The new ‘chrono’ classes bundles in the C++11 standard library make this task particularly simple. Below is the full class for simple tic toc type profiling …</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="c1">// TicToc RAII profiler</span>
</span><span class="line"><span class="k">class</span> <span class="nc">TicToc</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line"><span class="k">private</span><span class="o">:</span>
</span><span class="line">    <span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span> <span class="n">clock</span><span class="p">;</span>
</span><span class="line">    <span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">microseconds</span> <span class="n">res</span><span class="p">;</span>
</span><span class="line">    <span class="n">clock</span><span class="o">::</span><span class="n">time_point</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">public</span><span class="o">:</span>
</span><span class="line">    <span class="n">TicToc</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">        <span class="n">t1</span> <span class="o">=</span> <span class="n">clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="o">~</span><span class="n">TicToc</span><span class="p">()</span>
</span><span class="line">    <span class="p">{</span>
</span><span class="line">        <span class="n">t2</span> <span class="o">=</span> <span class="n">clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
</span><span class="line">        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Elapsed time is &quot;</span>
</span><span class="line">        <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration_cast</span><span class="o">&lt;</span><span class="n">res</span><span class="o">&gt;</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">).</span><span class="n">count</span><span class="p">()</span><span class="o">/</span><span class="mf">1e6</span>
</span><span class="line">        <span class="o">&lt;&lt;</span> <span class="s">&quot; seconds.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Putting this to use is very simple. Just make a new scope using the scope resolution operator and create an instance of TicToc. When it goes out of scope, it will be deleted from the stack and will display the elapsed time. </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="n">TicToc</span> <span class="n">t</span><span class="p">;</span>
</span><span class="line">    <span class="n">someFunctionToProfile</span><span class="p">();</span>
</span><span class="line">    <span class="n">perhapsSomethingElse</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Furthermore, other classes can be derived from this simple class, making this a really simple way to get stats on object lifetime.</p>

<p>Enjoy and HAPPY NEW YEAR!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/30/c-plus-plus-palindrome-detection/">C++ Palindrome Detection</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-30T16:11:00+01:00" pubdate data-updated="true">Nov 30<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/30/c-plus-plus-palindrome-detection/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>An interesting question popped up on stackoverflow about palindrome detection in c++. A palindrome is a word whose characters can be reversed, and no change is detectable, e.g. “racecar”. My initial thought was to make a copy and use the std::reverse algorithm &#8230; </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="n">tupni</span> <span class="o">=</span> <span class="n">input</span><span class="p">;</span>
</span><span class="line"><span class="n">std</span><span class="o">::</span><span class="n">reverse</span><span class="p">(</span><span class="n">tupni</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">tupni</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
</span><span class="line">
</span><span class="line"><span class="k">if</span><span class="p">(</span><span class="n">tupni</span><span class="o">==</span><span class="n">input</span><span class="p">){</span> <span class="p">...</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>However, this copy can be avoided using reverse itterators . . </p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="kt">bool</span> <span class="n">isPalindrome</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="c1">// comparison based on 2 string iterators - a &quot;normal&quot; one</span>
</span><span class="line">    <span class="c1">// and a reversed one</span>
</span><span class="line">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">equal</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span> <span class="n">str</span><span class="p">.</span><span class="n">rend</span><span class="p">(),</span> <span class="n">str</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Seeing as this function only contains a single command, it might be nice to use a lambda as an alternative. You can specify a return type from a lambda with this syntax </p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">[]()-&gt;return_type{}</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So defining the palindrome detector becomes a simple 1-liner.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="k">auto</span> <span class="n">isPalindrome</span> <span class="o">=</span> <span class="p">[](</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">)</span><span class="o">-&gt;</span><span class="kt">bool</span><span class="p">{</span><span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">equal</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span> <span class="n">str</span><span class="p">.</span><span class="n">rend</span><span class="p">(),</span> <span class="n">str</span><span class="p">.</span><span class="n">begin</span><span class="p">());};</span>
</span><span class="line"><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">isPalindrome</span><span class="p">(</span><span class="s">&quot;racecar&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// prints 1</span>
</span><span class="line"><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">isPalindrome</span><span class="p">(</span><span class="s">&quot;truck&quot;</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">// prints 0 </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/29/c-plus-plus-11-is-poetic/">C++11 Is Poetic</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-29T16:13:00+01:00" pubdate data-updated="true">Nov 29<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/29/c-plus-plus-11-is-poetic/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I will start posting cool little blocks of code, like short poems when I see neat little things to do ..</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Find multiples in a vector the C++11 way</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="c++"><span class="line"><span class="cp">#include &lt;iostream&gt;</span>
</span><span class="line"><span class="cp">#include &lt;vector&gt;</span>
</span><span class="line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="n">main</span> <span class="p">()</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">{</span><span class="mi">12</span><span class="p">,</span><span class="mi">324</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">787</span><span class="p">,</span><span class="mi">9</span><span class="p">};</span> <span class="c1">//Uniform initialization</span>
</span><span class="line">	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;In vector: &quot;</span><span class="p">;</span>
</span><span class="line">	<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">val</span> <span class="o">:</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;, &quot;</span><span class="p">;}</span> <span class="c1">//Range based for</span>
</span><span class="line">	<span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span><span class="line">	<span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="s">&quot;there are &quot;</span>
</span><span class="line">		<span class="o">&lt;&lt;</span> <span class="n">count_if</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[</span><span class="n">m</span><span class="p">](</span><span class="kt">int</span> <span class="n">i</span><span class="p">){</span><span class="k">return</span> <span class="n">i</span><span class="o">%</span><span class="n">m</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;})</span> <span class="c1">//lambdas</span>
</span><span class="line">		<span class="o">&lt;&lt;</span> <span class="s">&quot; multiples of &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">m</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote><p>In vector: 12, 324, 45, 65, 787, 9, there are 2 multiples of 5</p></blockquote>

<p>For some more depth on the functional goodness see this <a href="http://www.drdobbs.com/cpp/efficient-use-of-lambda-expressions-and/232500059">Dr. Dobbs article</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/03/inkscape-logo/">Using Inkscape Vector Graphics to Generate a Website Logo</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-03T00:00:00+02:00" pubdate data-updated="true">Jul 3<span>rd</span>, 2011</time>
        
         | <a href="/blog/2011/07/03/inkscape-logo/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="using-inkscape-vector-graphics-to-generate-a-website-logo">Using inkscape vector graphics to generate a website logo</h2>

<p>This is a quick tutorial showing the steps required to generate a logo like the one seen at the top of this page. For this, I used the fantastic open source Inkscape software. In the past, I have tried to learn how to use various vector graphics drawing software packages, but have always run out of patience. This was until trying Inkscape. In comparison, Inkscape is easy to grasp and there is a large amount of user generated documentation online that will help you to produce amazing looking graphics in no time. </p>

<p>I am an inkscape beginner but thought it might be useful to produce a brief tutorial that combines some of the basic techniques that I’ve leant from other tutorials. I have noticed that many of the tutorials on the web do not take good advantage of the layers tools and so I hope to address this here. This tutorial was generated on a mac and so the screenshots have a mac look and feel. However, the commands outlined here should be identical on all platforms.</p>

<p>The first step is to open up the layers menu widget (Shift+… as shown) thing. I decided that I wanted some text with some lighting to make it look shiny and some special effects like a glow and a shadow. I decided to break this idea down into three layers as shown in the screenshot.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.18.36.png" alt="Alt text" /></p>

<p>The next step was to create a basic logo using the text tool. Do this on the ‘BasicText’ layer. The ‘AP’ part of the logo used a non-standard font downloaded from a free font website. The colours of the text can be changed easily by highlighting a selection and then selecting one of the colours from the swatch at the bottom of the Inkscape window.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.20.17.png" alt="Alt text" /></p>

<p>I wanted to check that the text was legible when using a black background. For this, I created a black rectangle and sent it too the back by using the item shown in the object dropdown menu. All looks good so I deleted the black box.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.20.45.png" alt="Alt text" /></p>

<p>The next thing that I wanted to do was add lighting effects. I was only interested in doing this on the large text. The first thing to do was to duplicate the target text.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.22.18.png" alt="Alt text" /></p>

<p>Once the duplicate was created, I moved the duplicate to it’s own layer that I reserved earlier for lighting effects.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.22.34.png" alt="Alt text" /></p>

<p>The visibility of each layer can be changed by clicking the eye image in the layers menu window. The fist job that I did with the duplicate was to create a gradient from black to transparent, from bottom to top. THis was to make the lower part of the text look as if it is in a relatively shaded region The gradient can be locked to the vertical plane by holding the ctrl key while dragging the gradient tool.</p>

<p>&lt;img src=”/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.24.46.png” width=100%&gt;</p>

<p>The next idea was to make the top of the text look shiny, like light is coming from above. For this, another duplicate was made and pushed into the lighting layer. I coloured it grey for better visibility. I then put an elipse on top of this duplicate.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.26.17.png" alt="Alt text" /></p>

<p>The elipse and duplicated text were both selected and the intersection tool in the path menu was then used.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.26.34.png" alt="Alt text" /></p>

<p>This does what it says on the tin.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.26.51.png" alt="Alt text" /></p>

<p>Setting the basic text layer to visible under this gives the following.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.27.07.png" alt="Alt text" /></p>

<p>The colour of the inset was changed from grey to white and then a gradient was applied to transparent, adding to the shiny look.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.27.59.png" alt="Alt text" /></p>

<p>To give the edge of the text more colour definition, an inset was added like so.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.28.13.png" alt="Alt text" /></p>

<p>To give the following result.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.28.37.png" alt="Alt text" /></p>

<p>Looking good! I wanted to give the coloured text a neon glow, so I duplicated the basic text once more and pushed it into the effects layer.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.32.17.png" alt="Alt text" /></p>

<p>I then used the blur tool from the colours window to get the glow effect.</p>

<p>&lt;img src=”/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.36.02.png” width=100%&gt;</p>

<p>The layers can all be set to visible once again to see the combined effect.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.37.04.png" alt="Alt text" /></p>

<p>I again wanted to test the legibility of the text on a dark background after making the lighting and glow modifications. However, instead of just drawing a rectangle and sending it to the bottom of the layer, I created a new later called ‘Alternative Background’, moved that layer to the bottom and then placed the black background within it. This makes switching the background on and off using the layers menu very easy.</p>

<p>&lt;img src=”/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.40.12.png” width=100%&gt;</p>

<p>In doing this, I noticed that the bottom, shaded part of the text did not contrast well against the background. To rectify this, I went tot the lighting layer and added an inset to the shading.</p>

<p>&lt;img src=”/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.41.21.png” width=100%&gt;</p>

<p>The resulting image after this transform is much sharper to the eye.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.41.58.png" alt="Alt text" /></p>

<p>After this, I wanted to create a reflection in the horizontal axis, making the logo appear as if it is hovering above a reflective surface. For this, I created a duplicate of everything, copied it into an new reflection layer, and then flipped the duplicate upside down using the button in the top-left of the following screen shot.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.55.28.png" alt="Alt text" /></p>

<p>The duplicate was then moved below the original. Holding the ctrl key while dragging only allows the object to move in one dimension, thus making alignment simple.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 08.56.19.png" alt="Alt text" /></p>

<p>Colour and transparency were modified.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 09.35.54.png" alt="Alt text" /></p>

<p>Glow colour, glow amount and other subtle changes were made</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 09.47.53.png" alt="Alt text" /></p>

<p>The final image was then ready for export. The first stage in this action was to resize the canvas. In the image properties box, there is a useful too to resize the canvas to mathc the size of the current selection. Seeing as nearly half the selection was transparent in the example shown, the lower margin was tapered in by some pixels</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 09.59.32.png" alt="Alt text" /></p>

<p>To export the logo in a useful format such as png, use the “export to bitmap” option in the file menu. the first time that I attempted this action, I used the “save as” option to save the image as a png. However, in doing this, I lost all of the alpha information and so the transparency was all messed up. The “export to bitmap” method gives predictable results.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 09.59.56.png" alt="Alt text" /></p>

<p>The final png is shown in the operating system preview pane.</p>

<p><img src="/images/inkscape_logo_tut/Screen shot 2011-07-02 at 10.01.09.png" alt="Alt text" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/02/matlab-publish-and-jekyll/">The Matlab Publishing Tool and Jekyll Combined</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-02T00:00:00+02:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/07/02/matlab-publish-and-jekyll/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="the-matlab-publishing-tool-and-jekyll-combined">The Matlab publishing tool and Jekyll combined</h2>

<p>I am in the middle of generating a set of tailored <a href="/random.html">Matlab tutorials</a> for a colleague. We decided that the best way to communicate the work was by using <a href="http://www.mathworks.com/help/techdoc/ref/publish.html">Matlab’s integrated publishing facility</a>. This is a great tool that allows you to generate HTML pages directly from Matlab scripts. Code is highlighted nicely and screenshots of any figures generated are linked in the generated HTML.</p>

<p>I am also a massive <a href="www.dropbox.com">Dropbox</a> fan. This is a file synchronisation service that can act as a static website server. Dropbox has a public folder. The Matlab generated HTML can be dropped into this folder and then the public link to the file can be shared. This makes for a very neat and straight forward way to distribute Matlab published documents. However, there are a couple of very minor drawbacks. Firstly, the static html hosting service provided by Dropbox is more of a side effect of the public folder than a supported service. Dropbox makes no guarantees about service uptime or reliability. This would probably never be a problem for the scenario outlined here, but seeing as I generate this site using Jekyll(https://github.com/mojombo/jekyll/wiki) and host it at <a href="www.github.com">Github</a>, I thought I would try to combine the two.</p>

<p>This turns out to be incredibly simple. All you need to do is copy the “HTML” folder generated by Matlab into the root directory or any new subdirectory of your Jekyll project. You can then just add the <a href="https://github.com/mojombo/jekyll/wiki/YAML-Front-Matter">YAML Front matter</a> to the top of the HTML file. In my case the following &#8230; </p>

<pre><code>---
layout: main
title: Tutorial xyz
---
</code></pre>

<p>&#8230; and then Jekyll will render the Matlab published document in your site. The problem is that the Matlab HTML file will likely override some of your own CSS, and so the formatting may be a little off. However, this is very simple to rectify. In my case, I just deleted the following block of code.</p>

<pre><code>body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}
</code></pre>

<p>I left the rest in, as I quite like he Matlab code formatting. It differentiates the code blocks in the Matlab pages from the code blocks in the blog. If you don’t want to give the mathworks any free advertising you can remove the following too.</p>

<pre><code>&lt;p class="footer"&gt;&lt;br&gt;Published with MATLAB&amp;reg; 7.10&lt;br&gt;&lt;/p&gt;
</code></pre>

<p>Happy static site generating!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/04/c-plus-plus-palindrome-detection-at-compile-time/">C++ palindrome detection at compile time</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/03/installing-fftw-with-homebrew-for-use-in-matlab-mex-file/">Installing FFTW using homebrew on OSX when you want to statically link a Matlab mex file</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/03/compile-mex-files-with-xcode-5-on-mavericks-using-older-versions-of-matlab/">Compile mex files with XCode 5 on OSX Mavericks using older versions of Matlab</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/06/measuring-round-trip-audio-latency-on-ios/">Accurately measuring round-trip audio latency on iOS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/22/introducing-aud1-assistive-listening-software/">Introducing AUD-1 assistive listening software</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("audioplastic", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/audioplastic" class="twitter-follow-button" data-show-count="false">Follow @audioplastic</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Nick Clark -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'audioplasticblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
